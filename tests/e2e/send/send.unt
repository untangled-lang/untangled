thread_def child {
  receive {
    int x -> {}
    _ -> {}
  }

  receive {
    int x -> {}
    _ -> {}
  }

  receive {
    int x -> {}
    _ -> {}
  }
}

thread_def Main {
  thread t = spawn child;
  t << 1000;
  t << 2000;
  t << 3000;
}
