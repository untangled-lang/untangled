import { RuleBlock, Rule, NonTerminal as NT, Terminal as T } from './components/Rule';


# Untangled: Language Reference Manual

<div style={{ marginTop: '-1rem', marginBottom: '3rem' }}>
  [Luke Deen Taylor](mailto:luke.taylor@tufts.edu),
  [Nick Doan](mailto:hdoan02@tufts.edu),
  [Duru Ugurlu](mailto:duru.ugurlu@tufts.edu),
  [Caleb Ledi](mailto:cledi01@tufts.edu),
  [Chloe Lam](mailto:clam08@tufts.edu)
</div>

**Untangled** is a new programming language with first-class support for multithreading. It
encourages users to write highly parallelized programs by providing safe and easy-to-use primitives
and abstractions over multithreading.

<figure>
  ```untangled
  thread_def SumWorker {
    receive { int x -> int target = x; _ -> exit(); }
    int sum = 0;
    for (int i = 0; i < target; i++) sum += i;
    parent << sum; // send the result back
  }

  thread_def Main {
    thread my_worker = spawn SumWorker;
    my_worker << 100000;
    // Main thread is free to do something else here...
    receive { int x -> int result = x; _ -> exit(); };
    print(result);
  }
  ```
  <figcaption>
    A simple program demonstrating multithreaded computation in Untangled. The `Main` thread
    continues running while the `SumWorker` thread does hard, CPU-bound computations.
  </figcaption>
</figure>

This document serves as authoritative reference for the Untangled language. It is intended to fully
specify the language, including its syntax, semantics, and built-in functions.


### Notation

The syntax of the language is given in BNF-like notation. Terminal symbols are set in monospace font
like <T>this</T>. Nonterminal symbols are set in italicized kebab-cased text like
<NT>example-nonterminal</NT>.

Terminals and nonterminals are combined as followed:
- A single space between components indicates concatenation—the given components should appear in
  the given order.
- Square brackets indicate *character sets*. A character set contains several single-character
  literals, and matches any one of those characters. For example,
  <nobr>[<T>a</T> <T>b</T> <T>c</T>]</nobr> matches exactly one of <T>a</T>, <T>b</T>, or <T>c</T>.
  - Within a character set, a hyphen indicates an ASCII range, e.g. <nobr>[<T>a</T>-<T>z</T>]</nobr>
    matches any lowercase letter.
  - A caret after the opening square brace of a character set indicates negation, e.g.
    <nobr>[^<T>a</T>-<T>z</T>]</nobr> matches any character that is *not* a lowercase letter.
- Parentheses (<span className="hint">...</span>) indicate grouping.
- An asterisk <span className="hint">...</span>* indicates that the preceding component may be
  repeated zero or more times.
- A plus sign <span className="hint">...</span>+ indicates that the preceding component may be
  repeated one or more times.
- A question mark <span className="hint">...</span>? indicates that the preceding component is
  optional.

These forms are combined into *rules*, each of which gives a single nonterminal on the left and one
or more possible expansions on the right (one per line, separated by a vertical bar). For example,
the following rule defines a nonterminal <NT>example-nonterminal</NT> that expands to either “hello”
or “world”:

<Rule name="example-nonterminal">
  <><T>hello</T></>
  <><T>world</T></>
</Rule>


## Syntax

### Keywords
TODO
