import Code from './components/Code';


# Untangled: Language Reference Manual

<div style={{ marginTop: '-1rem', marginBottom: '3rem' }}>
  [Luke Deen Taylor](mailto:luke.taylor@tufts.edu),
  [Nick Doan](mailto:hdoan02@tufts.edu),
  [Duru Ugurlu](mailto:duru.ugurlu@tufts.edu),
  [Caleb Ledi](mailto:cledi01@tufts.edu),
  [Chloe Lam](mailto:clam08@tufts.edu)
</div>

**Untangled** is a new programming language with first-class support for multithreading. It
encourages users to write highly parallelized programs by providing safe and easy-to-use primitives
and abstractions over multithreading.

<figure>
  ```untangled
  thread_def SumWorker {
    receive { int x -> int target = x; _ -> exit(); }
    int sum = 0;
    for (int i = 0; i < target; i++) sum += i;
    parent << sum; // send the result back
  }

  thread_def Main {
    thread my_worker = spawn SumWorker;
    my_worker << 100000;
    // Main thread is free to do something else here...
    receive { int x -> int result = x; _ -> exit(); };
    print(result);
  }
  ```
  <figcaption>
    A simple program demonstrating multithreaded computation in Untangled. The `Main` thread
    continues running while the `SumWorker` thread does hard, CPU-bound computations.
  </figcaption>
</figure>

This document serves as authoritative reference for the Untangled language. It is intended to fully
specify the language, including its syntax, semantics, and built-in functions.


### Notation

The syntax of the language is given in BNF-like notation. Terminal symbols are set in monospace font
like `this`. Nonterminal symbols are set in italicized kebab-cased text like <span className="boxed">*this-example*</span>.

- Space-separated elements within square brackets indicate an option between any of the elements,
  e.g. `[a b c]` matches exactly one of `a`, `b`, or `c`. A hyphen is used to indicate an ASCII
  range, e.g. `[a-z]`.
- An asterisk `*` indicates that the preceding component may be repeated zero or more times.
- A plus sign `+` indicates that the preceding component may be repeated one or more times.
- Parentheses `(` `)` indicate grouping

The special nonterminal <span className="boxed">*any-char*</span> is defined to match any single
character.


## Syntax

### Keywords
TODO
